<style type="text/css">
.margin-left-20 {
    margin-left: 20px;
}
.first-column-bold tr > td:first-child {
    font-weight: bold;
    width: 50%;
}
</style>
<link rel="stylesheet" href="js/plugins/select2/select2.css">
<link href="js/plugins/select2/select2-bootstrap.css" rel="stylesheet" type="text/css" />
<script src="js/plugins/select2/select2.js"></script>

<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h4 class="modal-title">Create Project</h4>
</div>
<div class="modal-body">

               
        <div class="row" style="padding:0px 20px 0px 30px">

                <div class="underline">
                    <h3 class="page-header">Project Info
                    <small>
                The settings below configure an LDAP directory which will be regularly </small></h3>
                </div>

                <form class="form-horizontal" role="form" style="margin:10px">
                    <div class="form-group">
                        <label class="col-xs-3 control-label">* System</label>
                        <div class="col-xs-9">
                            <select id="systems" class="form-control" multiple>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-xs-3 control-label">* Project Name</label>
                        <div class="col-xs-9">
                            <input type="text" name="system_name" class="form-control" placeholder="">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-xs-3 control-label">* Project Owner</label>
                        <div class="col-xs-9">
                            <select id="project_owner" class="form-control" multiple>
                                <option value="AL">cwpark</option>
                                <option value="WY">gwkoo</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-xs-3 control-label"> Description</label>
                        <div class="col-xs-9">
                            <textarea class="form-control" rows=4 placeholder="Additional information here..."></textarea>
                        </div>
                    </div>

                    <div class="underline">
                        <h3 class="page-header">Repository & Build
                        <small>
                    The settings below configure an LDAP directory which will be regularly </small></h3>
                    </div>

                    <div class="form-group">
                        <label class="col-xs-3 control-label">Source Code Repository</label>
                        <div class="col-xs-2 padding-right-zero">
                            <select class="form-control">
                              <option>svn</option>
                              <option>git</option>
                            </select>
                        </div>
                        <div class="col-xs-7">
                            <input type="text" name="system_name" class="form-control" placeholder="">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-xs-3 control-label">Authentication</label>
                        <div class="col-xs-9">
                            <label class="form-inline">
                            <select id="credential" class="form-control" style="width:300px">
                                <option>None</option>
                            </select>
                            <button type="button" class="btn btn-sm btn-success">New Credential</button>
                            <div id="credential_desc">
                            Description
                            <pre><code></code></pre>
                            </div>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-xs-3 control-label">Artifact</label>
                        <div class="col-xs-3 padding-right-zero">
                            <input type="text" name="group_id" class="form-control" placeholder="Group ID">
                        </div>
                        <div class="col-xs-3 padding-right-zero">
                            <input type="text" name="artifact_id" class="form-control" placeholder="Artifact ID">
                        </div>
                        <div class="col-xs-3">
                            <input type="text" name="package" class="form-control" placeholder="Package">
                        </div>
                    </div>

                    <div class="form-group"> 
                        <label class="col-xs-3 control-label">Default Build Profile</label>
                        <div class="col-xs-9">
                            <label>
                                <select id="build_profile" class="form-control" style="width:300px">
                                    <option>None</option>
                                </select>

                                <div id="build_profile_command" style="padding-top:5px">
                                build command
                                <pre><code></code></pre>
                                </div>
                            </label>
                        </div>
                    </div>
                </form>
            </div>

    <!-- :form -->
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default" data-dismiss="modal">Cancle</button>
    <button type="submit" class="btn btn-success">Create</button>
</div>
<script type="text/javascript">
$( document ).ready(function() {
    // change modal size
    $('.modal-dialog').addClass('modal-lg');

    
    $.getJSON("data/wiseforge/systems_tiny.json", {}, function(data, textStatus, jqXHR){
        $.each(data.data, function(index, value){
            $("#systems").append("<option value=" + value.idx + ">" + value.name + "</option>");
        });
    });
    $("#systems").select2({
        placeholder: "Select System"
    });

    $("#project_owner").select2({
        placeholder: "User Search"
    });

    // init credential
    $("#credential_desc").hide();
    $("#credential").select2({
        placeholder: "Credential Search"
        ,allowClear: true
    }).on("select2-selecting", function(event) {
        if(event.val == "None") {
                $("#credential_desc").hide();
        } else {
            $.getJSON("data/wiseforge/credential_desc_tiny.json", {"idx":event.val}, function(data, textStatus, jqXHR){
                $("#credential_desc code").text(data.data.desc);
                $("#credential_desc").show();
            });
        }
    });
    $.getJSON("data/wiseforge/credentials_tiny.json", {}, function(data, textStatus, jqXHR){
        $.each(data.data, function(index, value){
            $("#credential").append("<option value=" + value.idx + ">" + value.name + "</option>");
        });
    });



    // init build_prifile
    $("#build_profile_command").hide();
    $("#build_profile").select2({
        placeholder: "Build Profile Search"
        ,allowClear: true
    }).on("select2-selecting", function(event) {
        if(event.val == "None") {
                $("#build_profile_command").hide();
        } else {
            $.getJSON("data/wiseforge/build_profiles_command_tiny.json", {"idx":event.val}, function(data, textStatus, jqXHR){
                $("#build_profile_command code").text(data.data.command);
                $("#build_profile_command").show();
            });
        }
    });

    $.getJSON("data/wiseforge/build_profiles_tiny.json", {}, function(data, textStatus, jqXHR){
        $.each(data.data, function(index, value){
            $("#build_profile").append("<option data-command='" + value.command + "' value=" + value.idx + ">" + value.name + "</option>");
        });
    });
}); //end document ready
</script>